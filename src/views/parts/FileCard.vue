<template>
  <card
    :to="`/subjects/${subject.slug}/${file.slug}`"
    :color="getHexa(subject.color)"
    center>
    <template #title>{{ file.name }}</template>
    <template #subtitle>{{ subject.name }} &mdash; {{ file.level }}</template>
    <div
      class="text--primary"
      v-html="file.description"/>
    <span>
      <v-icon>mdi-clock-outline</v-icon>
      Ajout√© le {{ dateToText(file.added) }} par {{ file.author }}
    </span>
  </card>
</template>

<script>
import { getRgba, getHexa } from '@/utils/color'
import { dateToText } from '@/utils/parsing'

export default {
  name: 'FileCard',
  props: {
    file: {
      type: Object,
      required: true
    },
    subject: {
      type: Object,
      required: true
    },
    displaySubject: {
      type: Boolean,
      default: false
    }
  },
  methods: {
    dateToText,
    getRgba,
    getHexa
  }
}
</script>
